# CI/CD 流程与验证清单

## 流水线阶段（轻量可选）
- 本地优先：通过 `Makefile` 执行 `make up/test/report` 完成验证。
- 可选 GitHub Actions：若仓库启用 Actions，则将本地步骤迁移为工作流阶段；否则保持本地执行。
- 集成测试：docker compose 拉起 mocks，跑 API/WS 套件（本地或 CI 均可）。
- 端到端测试：关键路径 P0（本地或 CI）。

## 触发策略（单人模式）
- 以“提交前/每日”本地运行替代夜间构建；有 GitHub Actions 时可开启 PR/主分支触发。

## 验证清单（每任务）
- 功能：必含边界/异常/幂等；通过率 100%。
- 性能：响应 ≤ 目标阈值；吞吐 ≥ 目标阈值。
- 体验：话术包含空间/设备/参数；长度与关键词校验。
- 安全：权限最小化、日志脱敏、审计记录完整。
- 文档：接口与架构更新、测试报告与回归评估。

## 报告产物与追溯
- 本地：`tests/reports/summary.json`、覆盖率与性能报告（若启用）。
- CI 可选：上传到工作流 Artifact；均需标注 Story/用例/提交哈希与标签。
